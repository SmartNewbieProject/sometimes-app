# ì´ìƒí˜• í…ŒìŠ¤íŠ¸ - ëª¨ë¨¼íŠ¸ íƒ­ í™•ì¥ ìš”êµ¬ì‚¬í•­

## ê°œìš”

í˜„ì¬ ë¯¸ê°€ì… ìœ ì €ë§Œ `/auth/login`ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ì´ìƒí˜• í…ŒìŠ¤íŠ¸ë¥¼ ëª¨ë¨¼íŠ¸ íƒ­ì— ì¶”ê°€í•˜ì—¬, ê°€ì… ìœ ì €ë„ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê³  ê²°ê³¼ë¥¼ DBì— ì €ì¥í•  ìˆ˜ ìˆë„ë¡ í™•ì¥í•œë‹¤.

---

## ê²°ì • ì‚¬í•­

| í•­ëª© | ê²°ì • |
|------|------|
| ì§„ì… ë°©ì‹ | ëª¨ë¨¼íŠ¸ ë©”ì¸ í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ì— ì¹´ë“œ ì¶”ê°€ |
| ë°°ì¹˜ | [ë°ì¼ë¦¬ ë£°ë ›] [ì¸ë©”ì´íŠ¸] [ì´ìƒí˜• í…ŒìŠ¤íŠ¸] â†’ 3ì—´ ë°°ì¹˜, ë§¨ ì˜¤ë¥¸ìª½ |
| í™”ë©´ íë¦„ | `app/moment/ideal-type-test/` ë³„ë„ ë¼ìš°íŠ¸ (index â†’ questions â†’ result) |
| ì¬ì‹œë„ ì •ì±… | 7ì¼ í›„ ì¬ì‹œë„ ê°€ëŠ¥ (retake API, ê¸°ì¡´ ê²°ê³¼ ëŒ€ì²´) |
| ì¹´ë“œ ìƒíƒœ í‘œì‹œ | ê²°ê³¼ ì—†ìŒ: "ì´ìƒí˜• í…ŒìŠ¤íŠ¸" / ê²°ê³¼ ìˆìŒ: ìœ í˜•ëª… + emoji |
| ê²°ê³¼ CTA | ê²°ê³¼ í™•ì¸ + ê³µìœ í•˜ê¸° + ë‹«ê¸° |
| ì½”ë“œ ì „ëµ | UI ì»´í¬ë„ŒíŠ¸ë¥¼ `src/features/ideal-type-test/ui/`ë¡œ ì¶”ì¶œ, authì™€ momentì—ì„œ ê³µìœ  |
| API | ë¡œê·¸ì¸ ìœ ì €ëŠ” Bearer Auth API ì‚¬ìš© |

---

## UI ë³€ê²½

### ëª¨ë¨¼íŠ¸ ë©”ì¸ í˜ì´ì§€ ë ˆì´ì•„ì›ƒ ë³€ê²½

**Before (2ì—´)**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë°ì¼ë¦¬ ë£°ë ›   â”‚ â”‚ ì¸ë©”ì´íŠ¸      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**After (3ì—´)**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ë°ì¼ë¦¬ ë£°ë ›â”‚ â”‚ ì¸ë©”ì´íŠ¸  â”‚ â”‚ì´ìƒí˜•     â”‚
â”‚          â”‚ â”‚          â”‚ â”‚í…ŒìŠ¤íŠ¸     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì´ìƒí˜• í…ŒìŠ¤íŠ¸ ì¹´ë“œ ìƒíƒœ

1. **í…ŒìŠ¤íŠ¸ ë¯¸ì™„ë£Œ**: "ì´ìƒí˜• í…ŒìŠ¤íŠ¸" íƒ€ì´í‹€ + í…ŒìŠ¤íŠ¸ ì•„ì´ì½˜
2. **í…ŒìŠ¤íŠ¸ ì™„ë£Œ**: ê²°ê³¼ ìœ í˜• emoji + ìœ í˜•ëª… (ì˜ˆ: "ğŸ’• ë¡œë§¨í‹± ë“œë¦¬ë¨¸")
3. **ì¬ì‹œë„ ëŒ€ê¸°**: ê²°ê³¼ ìœ í˜• í‘œì‹œ (íƒ­ ì‹œ ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™, D-N í‘œì‹œëŠ” ê²°ê³¼ í˜ì´ì§€ì—ì„œ)

---

## í™”ë©´ íë¦„

### í…ŒìŠ¤íŠ¸ ë¯¸ì™„ë£Œ ìœ ì €
```
ëª¨ë¨¼íŠ¸ íƒ­ â†’ [ì´ìƒí˜• í…ŒìŠ¤íŠ¸ ì¹´ë“œ íƒ­]
  â†’ /moment/ideal-type-test (ì‹œì‘ í™”ë©´)
  â†’ /moment/ideal-type-test/questions (ì§ˆë¬¸ 5ê°œ)
  â†’ /moment/ideal-type-test/result (ê²°ê³¼ + ê³µìœ )
```

### í…ŒìŠ¤íŠ¸ ì™„ë£Œ ìœ ì € (7ì¼ ë¯¸ê²½ê³¼)
```
ëª¨ë¨¼íŠ¸ íƒ­ â†’ [ê²°ê³¼ ì¹´ë“œ íƒ­]
  â†’ /moment/ideal-type-test/result (ê¸°ì¡´ ê²°ê³¼ í™•ì¸ + ê³µìœ )
```

### í…ŒìŠ¤íŠ¸ ì™„ë£Œ ìœ ì € (7ì¼ ê²½ê³¼)
```
ëª¨ë¨¼íŠ¸ íƒ­ â†’ [ê²°ê³¼ ì¹´ë“œ íƒ­]
  â†’ /moment/ideal-type-test (ì‹œì‘ í™”ë©´, ì¬ì‹œë„ ì˜µì…˜ í‘œì‹œ)
  â†’ retake API â†’ ìƒˆ í…ŒìŠ¤íŠ¸ ì§„í–‰
```

---

## API ì‚¬ìš©

### ë¡œê·¸ì¸ ìœ ì € ì „ìš© API

| Method | Endpoint | ìš©ë„ |
|--------|----------|------|
| GET | `/v1/users/me/ideal-type-result` | ë‚´ ê²°ê³¼ ì¡°íšŒ |
| POST | `/v1/users/me/ideal-type-result/retake` | ì¬ì‹œë„ (ê¸°ì¡´ ì‚­ì œ + ìƒˆ ì„¸ì…˜) |
| DELETE | `/v1/users/me/ideal-type-result` | ê²°ê³¼ ì‚­ì œ |

### ê³µí†µ API (í…ŒìŠ¤íŠ¸ ì§„í–‰)

| Method | Endpoint | ìš©ë„ |
|--------|----------|------|
| POST | `/v1/ideal-type-test/start` | í…ŒìŠ¤íŠ¸ ì‹œì‘ |
| POST | `/v1/ideal-type-test/answer` | ë‹µë³€ ì œì¶œ |
| GET | `/v1/ideal-type-test/result/:sessionId` | ê²°ê³¼ ì¡°íšŒ |
| GET | `/v1/ideal-type-test/stats/:resultTypeId` | í†µê³„ ì¡°íšŒ |

### 7ì¼ ì¬ì‹œë„ ë¡œì§

```typescript
const canRetake = (completedAt: string) => {
  const daysSince = dayjs().diff(dayjs(completedAt), 'day');
  return daysSince >= 7;
};
```

---

## ì½”ë“œ êµ¬ì¡°

### ê³µí†µ ì»´í¬ë„ŒíŠ¸ ì¶”ì¶œ (src/features/ideal-type-test/ui/)

```
src/features/ideal-type-test/ui/
â”œâ”€â”€ auth-bottom-sheet.tsx      # ê¸°ì¡´ (ë¯¸ê°€ì… ìœ ì €ìš©)
â”œâ”€â”€ test-start-screen.tsx      # NEW: ì‹œì‘ í™”ë©´ ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ test-questions-screen.tsx  # NEW: ì§ˆë¬¸ í™”ë©´ ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ test-result-screen.tsx     # NEW: ê²°ê³¼ í™”ë©´ ê³µí†µ ì»´í¬ë„ŒíŠ¸
â””â”€â”€ moment-nav-card.tsx        # NEW: ëª¨ë¨¼íŠ¸ íƒ­ ë„¤ë¹„ê²Œì´ì…˜ ì¹´ë“œ
```

### ìƒˆ ë¼ìš°íŠ¸ (app/moment/ideal-type-test/)

```
app/moment/ideal-type-test/
â”œâ”€â”€ _layout.tsx
â”œâ”€â”€ index.tsx        # ì‹œì‘ í™”ë©´ (ê³µí†µ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©)
â”œâ”€â”€ questions.tsx    # ì§ˆë¬¸ í™”ë©´ (ê³µí†µ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©)
â””â”€â”€ result.tsx       # ê²°ê³¼ í™”ë©´ (ê³µí†µ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©)
```

---

## ì œì•½ ì‚¬í•­

- ê¸°ì¡´ `app/auth/login/ideal-type-test/` ë¼ìš°íŠ¸ëŠ” ìœ ì§€ (ë¯¸ê°€ì… ìœ ì €ìš©)
- FSD ì•„í‚¤í…ì²˜ ì¤€ìˆ˜ (app/ ë‚´ íŒŒì¼ì€ ë¼ìš°íŠ¸ ì—­í• ë§Œ)
- 7ì¼ ì¬ì‹œë„ ì œí•œì€ ì„œë²„ `completedAt` ê¸°ì¤€ í´ë¼ì´ì–¸íŠ¸ ê³„ì‚°
- i18n ì§€ì› (ko, ja, en)
