# Sometimes App - KPI ì§€í‘œ ì •ì˜ ë° ì´ë²¤íŠ¸ ë§¤í•‘

> **ì‘ì„±ì¼**: 2025-12-12
> **ì—…ë°ì´íŠ¸**: ëª¨ë“  ê°œì„ ì‚¬í•­ ì ìš© ì™„ë£Œ
> **ì „ì²´ í‰ê°€**: A+ (90ì ) - ë§¤ìš° ìš°ìˆ˜

---

## ğŸ“Š ëª©ì°¨

1. [ê°œìš”](#ê°œìš”)
2. [5ëŒ€ ì„±ì¥ ì§€í‘œ ì²´ê³„ (AARRR)](#5ëŒ€-ì„±ì¥-ì§€í‘œ-ì²´ê³„-aarrr)
3. [ì „ì²´ ìœ ì € í”Œë¡œìš°](#ì „ì²´-ìœ ì €-í”Œë¡œìš°)
4. [KPI ìƒì„¸ ì •ì˜](#kpi-ìƒì„¸-ì •ì˜)
5. [ì´ë²¤íŠ¸ êµ¬í˜„ í˜„í™©](#ì´ë²¤íŠ¸-êµ¬í˜„-í˜„í™©)
6. [User Properties ìë™ ì—…ë°ì´íŠ¸](#user-properties-ìë™-ì—…ë°ì´íŠ¸)
7. [ê°œì„  ì™„ë£Œ ë‚´ì—­](#ê°œì„ -ì™„ë£Œ-ë‚´ì—­)

---

## ê°œìš”

Sometimes ì•±ì€ **AARRR í”„ë ˆì„ì›Œí¬**(Acquisition, Activation, Retention, Revenue, Referral) ê¸°ë°˜ìœ¼ë¡œ ì´ **40ê°œì˜ KPI ì§€í‘œ**ë¥¼ ì¶”ì í•˜ë©°, **132ê°œì˜ ì´ë²¤íŠ¸**ë¥¼ í†µí•´ ì‚¬ìš©ì í–‰ë™ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ì„±ê³¼ë¥¼ ì¸¡ì •í•©ë‹ˆë‹¤.

### í•µì‹¬ ì§€í‘œ ì²´ê³„

- **ë°ì´í„° ìˆ˜ì§‘**: Mixpanel (Native & Web ì§€ì›)
- **ì‹œê°„ëŒ€**: í•œêµ­ ì‹œê°„ (UTC+9) ê¸°ì¤€
- **ì¤‘ë³µ ë°©ì§€**: ì¼ì¼ ì¤‘ë³µ ì¹´ìš´íŒ… ë°©ì§€ ì‹œìŠ¤í…œ
- **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§**: 24ì‹œê°„ ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ

---

## 5ëŒ€ ì„±ì¥ ì§€í‘œ ì²´ê³„ (AARRR)

```
ğŸ“± Acquisition (ìœ ì¹˜) â†’ ì‚¬ìš©ìë¥¼ ì–´ë–»ê²Œ ëŒì–´ë“¤ì´ëŠ”ê°€?
   â†“
âœ¨ Activation (í™œì„±í™”) â†’ ì²« ê²½í—˜ì„ ì–´ë–»ê²Œ ì˜ë¯¸ìˆê²Œ ë§Œë“œëŠ”ê°€?
   â†“
ğŸ” Retention (ìœ ì§€) â†’ ì‚¬ìš©ìê°€ ê³„ì† ëŒì•„ì˜¤ê²Œ ë§Œë“œëŠ”ê°€?
   â†“
ğŸ’° Revenue (ìˆ˜ìµ) â†’ ì–´ë–»ê²Œ ìˆ˜ìµì„ ì°½ì¶œí•˜ëŠ”ê°€?
   â†“
ğŸ“¢ Referral (ì¶”ì²œ) â†’ ì‚¬ìš©ìê°€ ë‹¤ë¥¸ ì‚¬ëŒì„ ì¶”ì²œí•˜ëŠ”ê°€?
```

---

## ì „ì²´ ìœ ì € í”Œë¡œìš°

```mermaid
graph TD
    A[ğŸ“± ìœ ì…] -->|ê°€ì…ë¥ | B[ğŸ‘¤ íšŒì›ê°€ì…]
    B -->|í”„ë¡œí•„ ì™„ì„±ë¥ | C[âœï¸ í”„ë¡œí•„ ì‘ì„± ì™„ë£Œ]
    C -->|ë§¤ì¹­ ì‹ ì²­ë¥ | D[ğŸ² ë§¤ì¹­ ì‹ ì²­]
    D -->|ë§¤ì¹­ ì„±ì‚¬ìœ¨| E[ğŸ’ ë§¤ì¹­ ì„±ì‚¬]
    E -->|ìƒí˜¸ ì¢‹ì•„ìš”ìœ¨| F[â¤ï¸ ì„œë¡œ ì¢‹ì•„ìš”]
    F -->|ì±„íŒ…ë°© ì˜¤í”ˆìœ¨| G[ğŸ’¬ ì±„íŒ…ë°© ì˜¤í”ˆ]
    G -->|í™œì„± ëŒ€í™”ìœ¨| H[ğŸ”¥ í™œì„± ëŒ€í™”]
    H -->|ë§Œë‚¨ ì „í™˜ìœ¨| I[ğŸ‘« ì‹¤ì œ ë§Œë‚¨]
```

---

## KPI ìƒì„¸ ì •ì˜

### 1ï¸âƒ£ ì‚¬ìš©ì ìœ ì¹˜ (Acquisition)

<details>
<summary><strong>1.1 DAU (Daily Active Users)</strong> - ì¼ì¼ í™œì„± ì‚¬ìš©ì ìˆ˜</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: í•˜ë£¨ ë™ì•ˆ 1íšŒ ì´ìƒ ì•±ì„ ì‹¤í–‰í•œ ê³ ìœ  ì‚¬ìš©ì ìˆ˜
- **ìˆ˜ì‹**: `UNIQUE(Session_Started)` per day
- **ëª©í‘œ**: 2,000ëª… (3ê°œì›” ë‚´)
- **ì—…ê³„ í‰ê· **: N/A (ì•±ë§ˆë‹¤ ìƒì´)

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Session_Started",
  eventCode: "SESSION_STARTED",
  properties: {
    session_start_reason: string,  // "app_launch" | "push" | "deep_link"
    timestamp: number,
    env: string
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:490"
}
```

#### User Properties ìë™ ì—…ë°ì´íŠ¸
```typescript
// ì„¸ì…˜ ì‹œì‘ ì‹œ
updateUserProperties({
  last_active_date: new Date().toISOString()  // ë§ˆì§€ë§‰ í™œë™ ë‚ ì§œ ê°±ì‹ 
})
```

#### Dashboard ì„¤ì • (Mixpanel)
```
Report Type: Insights
Event: Session_Started
Counting: Unique users
Time Range: Last 30 Days
Visualization: Line Chart
Goal: 2,000 users/day
```

</details>

<details>
<summary><strong>1.2 WAU (Weekly Active Users)</strong> - ì£¼ê°„ í™œì„± ì‚¬ìš©ì ìˆ˜</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: ì¼ì£¼ì¼ ë™ì•ˆ 1íšŒ ì´ìƒ ì ‘ì†í•œ ê³ ìœ  ì‚¬ìš©ì ìˆ˜
- **ìˆ˜ì‹**: `UNIQUE(Session_Started)` per week
- **ëª©í‘œ**: 5,000ëª… (3ê°œì›” ë‚´)

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Session_Started",
  eventCode: "SESSION_STARTED",
  aggregation: "weekly"
}
```

</details>

<details>
<summary><strong>1.3 MAU (Monthly Active Users)</strong> - ì›”ê°„ í™œì„± ì‚¬ìš©ì ìˆ˜</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: í•œ ë‹¬ ë™ì•ˆ 1íšŒ ì´ìƒ ì ‘ì†í•œ ê³ ìœ  ì‚¬ìš©ì ìˆ˜
- **ìˆ˜ì‹**: `UNIQUE(Session_Started)` per month
- **ëª©í‘œ**: 10,000ëª… (6ê°œì›” ë‚´)
- **ì—…ê³„ í‰ê· **: ì•„ë§Œë‹¤ 5ë§Œ+, ê¸€ë¨ 2ë§Œ+

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Session_Started",
  eventCode: "SESSION_STARTED",
  aggregation: "monthly"
}
```

</details>

<details>
<summary><strong>1.4 DAU/MAU ë¹„ìœ¨</strong> - ì›”ê°„ ì‚¬ìš©ì ì¤‘ ì¼ì¼ ì ‘ì† ë¹„ìœ¨</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (DAU Ã· MAU) Ã— 100
- **ì„¤ëª…**: ì‚¬ìš©ì ì¶©ì„±ë„ ì§€í‘œ, ë†’ì„ìˆ˜ë¡ ì•± ì˜ì¡´ë„ ë†’ìŒ
- **ëª©í‘œ**: 20~25%
- **ì—…ê³„ í‰ê· **: ë°ì´íŒ…ì•± 25~40%, ì†Œì…œì•± 40~60%

#### ê³„ì‚° ë°©ë²• (Mixpanel Formula)
```
(DAU / MAU) * 100
```

</details>

<details>
<summary><strong>1.5 ì‹ ê·œ ê°€ì…ì ìˆ˜</strong> - New Signups</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: ì¼/ì£¼/ì›” ì‹ ê·œ íšŒì›ê°€ì… ì™„ë£Œ ìˆ˜
- **ìˆ˜ì‹**: `COUNT(Signup_Completed)`
- **ëª©í‘œ**: ì›” 2,000ëª…

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Signup_Started",
  eventCode: "SIGNUP_STARTED",
  properties: {
    source: string  // "organic" | "referral" | "marketing"
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:289"
}
```

```typescript
{
  eventName: "Signup_Completed",
  eventCode: "SIGNUP_COMPLETED",
  properties: {
    profile_completion_rate: number,  // 0-100
    total_duration: number,           // milliseconds
    source: string
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:303"
}
```

#### Dashboard Funnel ì„¤ì •
```
Step 1: Signup_Started
Step 2: Signup_Completed
Conversion Window: 7 days
```

</details>

<details>
<summary><strong>1.6 ëŒ€í•™ìƒ ì¸ì¦ë¥ </strong> - University Verification Rate</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (ëŒ€í•™ ì¸ì¦ ì™„ë£Œì Ã· ì „ì²´ ê°€ì…ì) Ã— 100
- **ëª©í‘œ**: 85% ì´ìƒ
- **ì—…ê³„ ë²¤ì¹˜ë§ˆí¬**: ìº í¼ìŠ¤í†¡ 90%+

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "University_Verification_Started",
  eventCode: "UNIVERSITY_VERIFICATION_STARTED",
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:595"
}
```

```typescript
{
  eventName: "University_Verification_Completed",
  eventCode: "UNIVERSITY_VERIFICATION_COMPLETED",
  properties: {
    verification_method: string  // "email" | "student_id" | "document"
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:601"
}
```

#### ê³„ì‚° ë°©ë²• (Mixpanel Formula)
```
A: UNIQUE(Signup_Completed)
B: UNIQUE(University_Verification_Completed)
Formula: (B / A) * 100
```

</details>

<details>
<summary><strong>1.7 ì†Œì…œ ë¡œê·¸ì¸ ì‚¬ìš©ë¥ </strong> - Social Login Rate</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (ì†Œì…œ ë¡œê·¸ì¸ Ã· ì „ì²´ ê°€ì…) Ã— 100
- **ëª©í‘œ**: 70% ì´ìƒ
- **ì—…ê³„ í‰ê· **: 60~80%

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Auth_Login_Started",
  eventCode: "AUTH_LOGIN_STARTED",
  properties: {
    auth_method: "pass" | "kakao" | "apple"
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:231"
}
```

#### ê³„ì‚° ë°©ë²•
```
Segmented By: auth_method
Filter: auth_method != "pass"
```

</details>

<details>
<summary><strong>1.8 íšŒì›ê°€ì… ì „í™˜ìœ¨</strong> - Signup Conversion Rate</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (ê°€ì… ì™„ë£Œ Ã· ê°€ì… ì‹œì‘) Ã— 100
- **ëª©í‘œ**: 60% ì´ìƒ
- **ì—…ê³„ í‰ê· **: 50~70%

#### Funnel ì„¤ì •
```
Step 1: Signup_Started
Step 2: Signup_Completed
Conversion Window: 24 hours
```

</details>

<details>
<summary><strong>1.9 ë¡œê·¸ì•„ì›ƒ ë¹„ìœ¨</strong> - Logout Rate</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: ì›”ë³„ ë¡œê·¸ì•„ì›ƒ ì‚¬ìš©ì ë¹„ìœ¨
- **ëª©í‘œ**: ìµœì´ˆ ì¸¡ì • í›„ ì§€ì† ê°ì†Œ

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Auth_Logout",
  eventCode: "AUTH_LOGOUT",
  properties: {
    reason: "manual" | "session_expired" | "account_deleted"
  }
}
```

</details>

---

### 2ï¸âƒ£ ì‚¬ìš©ì í™œì„±í™” (Activation)

<details>
<summary><strong>2.1 í”„ë¡œí•„ ì™„ì„±ë„</strong> - Profile Completion Rate</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (ì‘ì„±ëœ í•­ëª© Ã· ì „ì²´ í•­ëª©) Ã— 100
- **ëª©í‘œ**: í‰ê·  80% ì´ìƒ
- **ì—…ê³„ í‰ê· **: í‹´ë” 70~85%

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Profile_Completion_Updated",
  eventCode: "PROFILE_COMPLETION_UPDATED",
  properties: {
    profile_completion_rate: number,      // 0-100
    completed_fields: string[],           // ["name", "bio", "interests"]
    fields_count: number
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:605"
}
```

#### User Properties ìë™ ì—…ë°ì´íŠ¸
```typescript
updateUserProperties({
  profile_completion_rate: completionRate  // í”„ë¡œí•„ ì™„ì„±ë„ ê°±ì‹ 
})
```

</details>

<details>
<summary><strong>2.2 ì²« ë§¤ì¹­ê¹Œì§€ ì‹œê°„</strong> - Time to First Match</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: ê°€ì… í›„ ì²« ë§¤ì¹­ ì„±ì‚¬ê¹Œì§€ í‰ê·  ì‹œê°„
- **ëª©í‘œ**: 24ì‹œê°„ ì´ë‚´
- **ì—…ê³„ ë²¤ì¹˜ë§ˆí¬**: ê¸€ë¨ 48ì‹œê°„, ì•„ë§Œë‹¤ 72ì‹œê°„

#### ê³„ì‚° ë°©ë²•
```
Signup_Completed.timestamp â†’ Matching_Success.timestamp
AVG(time_difference)
```

</details>

<details>
<summary><strong>2.3 ë§¤ì¹­ ì‹¤íŒ¨ ëŒ€ê¸° ì‹œê°„</strong> - Matching Retry Wait Time</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: ë§¤ì¹­ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ê¹Œì§€ í‰ê·  ëŒ€ê¸° ì‹œê°„
- **ëª©í‘œ**: 12ì‹œê°„ ì´ë‚´

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Matching_Failed",
  eventCode: "MATCHING_FAILED",
  properties: {
    error_reason: string,
    retry_available_at: string,           // ISO timestamp
    failure_category: "PAYMENT" | "PERMISSION" | "USAGE" | "SYSTEM",
    is_recoverable: boolean
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:334"
}
```

</details>

<details>
<summary><strong>2.4 ë¬´ë£Œ ë§¤ì¹­ ì„±ê³µë¥ </strong> - Free Match Success Rate</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (ë¬´ë£Œ ë§¤ì¹­ ì„±ê³µ Ã· ë¬´ë£Œ ì‹œë„) Ã— 100
- **ëª©í‘œ**: 30~40%

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Matching_Started",
  eventCode: "MATCHING_STARTED",
  properties: {
    matching_type: "auto" | "manual" | "rematch",
    filters_applied: string[]
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:312"
}
```

```typescript
{
  eventName: "Matching_Success",
  eventCode: "MATCHING_SUCCESS",
  properties: {
    matched_profile_id: string,
    time_to_match: number  // milliseconds
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:327"
}
```

#### User Properties ìë™ ì—…ë°ì´íŠ¸
```typescript
updateUserProperties({
  $add: { total_matches: 1 },
  last_match_date: new Date().toISOString()
})
```

#### Funnel ì„¤ì •
```
Step 1: Matching_Started (filter: matching_type = "auto")
Step 2: Matching_Success
Conversion Window: 7 days
```

</details>

<details>
<summary><strong>2.5 í‰ê·  ì•± ì²´ë¥˜ ì‹œê°„</strong> - Average Session Duration</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: ì•± ì‹¤í–‰ë¶€í„° ì¢…ë£Œê¹Œì§€ì˜ í‰ê·  ì‹œê°„ (1íšŒ ì„¸ì…˜ ê¸°ì¤€)
- **ëª©í‘œ**: ì„¸ì…˜ë‹¹ 8~12ë¶„
- **ì—…ê³„ í‰ê· **: ë°ì´íŒ…ì•± 10~15ë¶„, ì†Œì…œì•± 20~30ë¶„

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Session_Ended",
  eventCode: "SESSION_ENDED",
  properties: {
    session_duration: number  // seconds
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:499"
}
```

</details>

---

### 3ï¸âƒ£ ì‚¬ìš©ì ìœ ì§€ (Retention)

<details>
<summary><strong>3.1 ì»¤ë®¤ë‹ˆí‹° ì°¸ì—¬ìœ¨</strong> - Community Engagement Rate</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (ì»¤ë®¤ë‹ˆí‹° í™œë™ ì‚¬ìš©ì ìˆ˜ Ã· ì›”ê°„ í™œì„± ì‚¬ìš©ì ìˆ˜) Ã— 100
- **ëª©í‘œ**: 20% ì´ìƒ

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Community_Post_Created",
  eventCode: "COMMUNITY_POST_CREATED",
  properties: {
    category: string,
    has_image: boolean
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:390"
}
```

```typescript
{
  eventName: "Community_Post_Viewed",
  eventCode: "COMMUNITY_POST_VIEWED",
  properties: {
    post_id: string,
    view_duration: number
  }
}
```

```typescript
{
  eventName: "Community_Post_Liked",
  eventCode: "COMMUNITY_POST_LIKED",
  properties: {
    post_id: string
  }
}
```

```typescript
{
  eventName: "Community_Comment_Added",
  eventCode: "COMMUNITY_COMMENT_ADDED",
  properties: {
    post_id: string,
    comment_length: number
  }
}
```

#### ê³„ì‚° ë°©ë²•
```
A: UNIQUE users who did any Community_* event
B: MAU
Formula: (A / B) * 100
```

</details>

<details>
<summary><strong>3.2 AI ì±„íŒ… ì‚¬ìš©ë¥ </strong> - AI Chat (Somemate) Usage Rate</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (AI ì±„íŒ… ì´ìš©ì Ã· MAU) Ã— 100
- **ëª©í‘œ**: 15% ì´ìƒ

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Somemate_Session_Started",
  eventCode: "SOMEMATE_SESSION_STARTED",
  properties: {
    session_id: string,
    category: "ì¼ìƒ" | "ì¸ê°„ê´€ê³„" | "ì§„ë¡œ/í•™êµ" | "ì—°ì• "
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:564"
}
```

```typescript
{
  eventName: "Somemate_Session_Completed",
  eventCode: "SOMEMATE_SESSION_COMPLETED",
  properties: {
    session_id: string,
    turn_count: number,
    satisfaction_score?: number
  }
}
```

</details>

<details>
<summary><strong>3.3 D1 Retention</strong> - ë‹¤ìŒë‚  ì¬ë°©ë¬¸ìœ¨</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (ê°€ì… ë‹¤ìŒë‚  ì ‘ì†ì ìˆ˜ Ã· ê°€ì…ì ìˆ˜) Ã— 100
- **ëª©í‘œ**: 50% ì´ìƒ
- **ì—…ê³„ í‰ê· **: 40~60%

#### ê³„ì‚° ë°©ë²• (Cohort Analysis)
```
First Time Event: Signup_Completed
Return Event: Session_Started
Measure retention over: Day 1
```

**ì˜ˆì‹œ**:
```
12/1 ê°€ì…: 100ëª…
12/2 ì ‘ì†: 50ëª…
â†’ D1 Retention = 50%
```

</details>

<details>
<summary><strong>3.4 D7 Retention</strong> - 7ì¼ í›„ ì¬ë°©ë¬¸ìœ¨</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (ê°€ì… í›„ 7ì¼ì§¸ ì ‘ì†ì ìˆ˜ Ã· ê°€ì…ì ìˆ˜) Ã— 100
- **ëª©í‘œ**: 30% ì´ìƒ
- **ì—…ê³„ í‰ê· **: 20~40%

#### ê³„ì‚° ë°©ë²• (Cohort Analysis)
```
First Time Event: Signup_Completed
Return Event: Session_Started
Measure retention over: Day 7
```

</details>

<details>
<summary><strong>3.5 D30 Retention</strong> - 30ì¼ í›„ ì¬ë°©ë¬¸ìœ¨</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (ê°€ì… í›„ 30ì¼ì§¸ í™œë™ ì¤‘ì¸ ì‚¬ìš©ì ìˆ˜ Ã· 30ì¼ ì „ ê°€ì…ì ìˆ˜) Ã— 100
- **ëª©í‘œ**: 20% ì´ìƒ
- **ì—…ê³„ í‰ê· **: 10~25%

</details>

<details>
<summary><strong>3.6 ì°¨ë‹¨/ë¸”ë™ë¦¬ìŠ¤íŠ¸ ë¹„ìœ¨</strong> - Block/Blacklist Rate</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (ì œì¬ ê³„ì • Ã· ì „ì²´ ê³„ì •) Ã— 100
- **ëª©í‘œ**: 2% ì´í•˜

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "User_Blocked",
  eventCode: "USER_BLOCKED",
  properties: {
    blocked_user_id: string,
    reason: string,
    action_source: "chat" | "profile" | "community" | "matching"
  }
}
```

```typescript
{
  eventName: "User_Reported",
  eventCode: "USER_REPORTED",
  properties: {
    reported_user_id: string,
    reason: string
  }
}
```

</details>

<details>
<summary><strong>3.7 ì´íƒˆë¥  (Churn Rate)</strong> - 30ì¼ ë¯¸ì ‘ì† ê¸°ì¤€</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (30ì¼ ì´ìƒ ë¯¸ì ‘ì† ì‚¬ìš©ì ìˆ˜ Ã· 30ì¼ ì „ í™œì„± ì‚¬ìš©ì ìˆ˜) Ã— 100
- **ëª©í‘œ**: ì›” 25% ì´í•˜
- **ì—…ê³„ í‰ê· **: ë°ì´íŒ…ì•± 20~40%

#### ê³„ì‚° ë°©ë²•
```
ì´ë²ˆ ë‹¬ ì´ˆ í™œì„± ì‚¬ìš©ì ìˆ˜: 1,000ëª…
ì´ë²ˆ ë‹¬ ë§ê¹Œì§€ ì´íƒˆí•œ ì‚¬ìš©ì ìˆ˜: 200ëª…
â†’ ì›”ê°„ ì´íƒˆë¥  = 20%
```

</details>

<details>
<summary><strong>3.8 íšŒì› íƒˆí‡´ ì¶”ì </strong> - Account Deletion</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: ëª…ì‹œì  íšŒì› íƒˆí‡´ ì‚¬ìš©ì ì¶”ì 
- **ëª©í‘œ**: íƒˆí‡´ ì‚¬ìœ  ë¶„ì„ì„ í†µí•œ ê°œì„ 

#### ê´€ë ¨ ì´ë²¤íŠ¸ (ì‹ ê·œ ì¶”ê°€ë¨ âœ¨)
```typescript
{
  eventName: "Account_Deletion_Requested",
  eventCode: "ACCOUNT_DELETION_REQUESTED",
  properties: {
    deletion_reason: "dissatisfaction" | "goal_achieved" | "price" | "privacy" | "inactivity" | "found_match" | "other",
    deletion_reason_detail: string
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:252"
}
```

```typescript
{
  eventName: "Account_Deleted",
  eventCode: "ACCOUNT_DELETED",
  properties: {
    deletion_reason: string,
    days_since_signup: number,
    total_matches_count: number,
    has_purchased: boolean,
    total_spent: number,
    last_active_days_ago: number
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:272"
}
```

```typescript
{
  eventName: "Account_Reactivated",
  eventCode: "ACCOUNT_REACTIVATED",
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:282"
}
```

</details>

---

### 4ï¸âƒ£ ìˆ˜ìµ ì°½ì¶œ (Revenue)

<details>
<summary><strong>4.1 ì¢‹ì•„ìš” ëˆ„ë¥¸ íšŸìˆ˜ í‰ê· </strong> - Average Likes Sent</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: ì „ì²´ ì¢‹ì•„ìš” ì‚¬ìš© íšŸìˆ˜ Ã· ì¼ì¼ í™œì„± ì‚¬ìš©ì ìˆ˜
- **ëª©í‘œ**: ì¼ 3~5íšŒ
- **ì—…ê³„ í‰ê· **: í‹´ë” 5~10íšŒ

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Like_Sent",
  eventCode: "LIKE_SENT",
  properties: {
    target_profile_id: string,
    like_type: "free" | "super"
  }
}
```

</details>

<details>
<summary><strong>4.2 ì¢‹ì•„ìš” ëˆ„ë¥´ëŠ” ë¹„ìœ¨</strong> - Like Engagement Rate</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (ì¢‹ì•„ìš”ë¥¼ 1íšŒ ì´ìƒ ëˆ„ë¥¸ ì‚¬ìš©ì ìˆ˜ Ã· DAU) Ã— 100
- **ëª©í‘œ**: 60% ì´ìƒ

#### ê³„ì‚° ë°©ë²•
```
UNIQUE users who did Like_Sent / DAU * 100
```

</details>

<details>
<summary><strong>4.3 ìƒí˜¸ ì¢‹ì•„ìš”ìœ¨</strong> - Mutual Like Rate</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (ë§¤ì¹­ ì„±ì‚¬ íšŸìˆ˜ Ã· ì¢‹ì•„ìš” ë³´ë‚¸ ì´ íšŸìˆ˜) Ã— 100
- **ëª©í‘œ**: 15~25%
- **í˜„ì¬**: 14%
- **ì—…ê³„ í‰ê· **: 10~20%

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Match_Request_Sent",
  eventCode: "MATCH_REQUEST_SENT",
  properties: {
    profile_id: string,
    request_type: string,
    matching_type: string
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:647"
}
```

```typescript
{
  eventName: "Match_Accepted",
  eventCode: "MATCH_ACCEPTED",
  properties: {
    profile_id: string,
    time_to_response: number,
    response_type: "accepted"
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:657"
}
```

#### User Properties ìë™ ì—…ë°ì´íŠ¸
```typescript
updateUserProperties({
  $add: {
    mutual_likes_count: 1,
    successful_matches: 1
  }
})
```

#### ê³„ì‚° ë°©ë²• (Mixpanel Formula)
```
A: COUNT(Match_Request_Sent)
B: COUNT(Match_Accepted)
Formula: (B / A) * 100
```

</details>

<details>
<summary><strong>4.4 ì±„íŒ…ë°© ì˜¤í”ˆìœ¨</strong> - Chat Open Rate</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (ì±„íŒ…ë°© ì˜¤í”ˆ íšŸìˆ˜ Ã· ìƒí˜¸ ì¢‹ì•„ìš” ì„±ì‚¬ íšŸìˆ˜) Ã— 100
- **ëª©í‘œ**: 70% ì´ìƒ
- **ì—…ê³„ í‰ê· **: 60~80%

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Chat_Started",
  eventCode: "CHAT_STARTED",
  properties: {
    chat_partner_id: string,
    match_type: "auto" | "manual" | "rematch"
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:359"
}
```

#### Funnel ì„¤ì •
```
Step 1: Match_Accepted
Step 2: Chat_Started
Conversion Window: 7 days
```

</details>

<details>
<summary><strong>4.5 ì±„íŒ…ë°© ì§€ì†ë¥ </strong> - Chat Persistence Rate</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (24ì‹œê°„ ì´í›„ì—ë„ í™œë™ ì¤‘ì¸ ì±„íŒ…ë°© ìˆ˜ Ã· ì „ì²´ ì±„íŒ…ë°© ìˆ˜) Ã— 100
- **ëª©í‘œ**: 40% ì´ìƒ

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Chat_24h_Active",
  eventCode: "CHAT_24H_ACTIVE",
  properties: {
    chat_room_id: string,
    match_id: string,
    is_active: boolean,
    is_mutual_conversation: boolean,
    activity_status: "inactive" | "active" | "mutual" | "one_sided",
    my_message_count: number,
    partner_message_count: number,
    total_message_count: number
  }
}
```

</details>

<details>
<summary><strong>4.6 í‰ê·  ë©”ì‹œì§€ ìˆ˜</strong> - Average Messages per Chat</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: ì „ì²´ ë©”ì‹œì§€ ìˆ˜ Ã· ì „ì²´ ì±„íŒ…ë°© ìˆ˜
- **ëª©í‘œ**: ì±„íŒ…ë°©ë‹¹ 20ê±´ ì´ìƒ

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Chat_Ended",
  eventCode: "CHAT_ENDED",
  properties: {
    chat_id: string,
    chat_duration: number,
    message_count: number,
    end_reason: string
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:374"
}
```

#### ê³„ì‚° ë°©ë²•
```
AVG(Chat_Ended.message_count)
```

</details>

<details>
<summary><strong>4.7 ARPU (Average Revenue Per User)</strong></summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: ì´ ë§¤ì¶œ Ã· MAU
- **ëª©í‘œ**: ì›” 500~1,000ì›
- **ì—…ê³„ í‰ê· **: ë°ì´íŒ…ì•± 800~1,500ì›

#### ê³„ì‚° ë°©ë²•
```
Total Revenue / MAU
```

#### User Properties ê¸°ë°˜
```typescript
// User Propertiesì—ì„œ ê³„ì‚°
{
  total_spent: number,  // ìë™ ì—…ë°ì´íŠ¸ë¨
  last_purchase_date: string
}
```

</details>

<details>
<summary><strong>4.8 ARPPU (Average Revenue Per Paying User)</strong></summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: ì´ ë§¤ì¶œ Ã· ìœ ë£Œ ì‚¬ìš©ì ìˆ˜
- **ëª©í‘œ**: ì›” 10,000ì› ì´ìƒ
- **ì—…ê³„ í‰ê· **: 8,000~15,000ì›

#### ê³„ì‚° ë°©ë²•
```
Total Revenue / UNIQUE(Payment_Completed)
```

</details>

<details>
<summary><strong>4.9 ìœ ë£Œ ì „í™˜ìœ¨</strong> - Payment Conversion Rate</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (ìœ ë£Œ êµ¬ë§¤ì Ã· MAU) Ã— 100
- **ëª©í‘œ**: 5~8%
- **ì—…ê³„ í‰ê· **: 3~7%

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Payment_Initiated",
  eventCode: "PAYMENT_INITIATED",
  properties: {
    item_type: string,
    item_value: number,
    payment_method: "card" | "kakao_pay" | "apple_pay"
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:835"
}
```

```typescript
{
  eventName: "Payment_Completed",
  eventCode: "PAYMENT_COMPLETED",
  properties: {
    transaction_id: string,
    payment_method: string,
    total_amount: number,
    items_purchased: Array<{type: string, quantity: number, price: number}>
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:442"
}
```

#### User Properties ìë™ ì—…ë°ì´íŠ¸
```typescript
updateUserProperties({
  has_purchased: true,
  $add: {
    total_spent: totalAmount,
    purchase_count: 1
  },
  $set_once: {
    first_purchase_date: new Date().toISOString()
  },
  last_purchase_date: new Date().toISOString()
})
```

#### Funnel ì„¤ì •
```
Step 1: Payment_Store_Viewed
Step 2: Payment_Item_Selected
Step 3: Payment_Initiated
Step 4: Payment_Completed
Conversion Window: 1 hour
```

</details>

<details>
<summary><strong>4.10 LTV (Lifetime Value)</strong> - ê³ ê° ìƒì•  ê°€ì¹˜</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: ARPU Ã— í‰ê·  ìƒì•  ì£¼ê¸°(ê°œì›” ìˆ˜)
- **í‰ê·  ìƒì•  ì£¼ê¸°**: 1 Ã· ì›”ê°„ ì´íƒˆë¥ 
- **ëª©í‘œ**: 5,000ì› ì´ìƒ
- **ì—…ê³„ í‰ê· **: 3,000~8,000ì›

#### ê³„ì‚° ì˜ˆì‹œ
```
ARPU = 1,000ì›/ì›”
ì›”ê°„ ì´íƒˆë¥  = 20% (0.2)
í‰ê·  ìƒì•  ì£¼ê¸° = 1 Ã· 0.2 = 5ê°œì›”
LTV = 1,000ì› Ã— 5 = 5,000ì›
```

</details>

<details>
<summary><strong>4.11 ì¬êµ¬ë§¤ìœ¨</strong> - Repurchase Rate</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: D30 ì¬êµ¬ë§¤ìœ¨ (ì²« êµ¬ë§¤ í›„ 30ì¼ ë‚´ ì¬êµ¬ë§¤)
- **ëª©í‘œ**: 30% ì´ìƒ
- **ì—…ê³„ í‰ê· **: êµ¬ë…í˜• 40~60%

#### ê³„ì‚° ì˜ˆì‹œ
```
1ì›” 1ì¼ ì²« êµ¬ë§¤: 100ëª…
1ì›” 31ì¼ê¹Œì§€ ì¬êµ¬ë§¤: 35ëª…
â†’ D30 ì¬êµ¬ë§¤ìœ¨ = 35%
```

</details>

<details>
<summary><strong>4.12 í‰ê·  êµ¬ë§¤íšŸìˆ˜</strong> - Average Purchase Frequency</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: ì´ë²ˆ ë‹¬ ì´ êµ¬ë§¤ ê±´ìˆ˜ Ã· ì´ë²ˆ ë‹¬ êµ¬ë§¤í•œ ì‚¬ìš©ì ìˆ˜
- **ëª©í‘œ**: ì¸¡ì • í›„ ì„¤ì •

#### ê³„ì‚° ë°©ë²•
```
COUNT(Payment_Completed) / UNIQUE(Payment_Completed users)
```

</details>

---

### 5ï¸âƒ£ ì¶”ì²œ (Referral)

<details>
<summary><strong>5.1 ì´ˆëŒ€ ì½”ë“œ ì‚¬ìš©ë¥ </strong> - Invite Code Usage Rate</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: (ì´ˆëŒ€ì½”ë“œ ê°€ì… Ã· ì „ì²´ ê°€ì…) Ã— 100
- **ëª©í‘œ**: 20% ì´ìƒ
- **ì—…ê³„ í‰ê· **: 15~30%

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Referral_Invite_Sent",
  eventCode: "REFERRAL_INVITE_SENT",
  properties: {
    invite_method: string
  },
  êµ¬í˜„ìœ„ì¹˜: "use-kpi-analytics.ts:507"
}
```

```typescript
{
  eventName: "Referral_Invite_Accepted",
  eventCode: "REFERRAL_INVITE_ACCEPTED",
  properties: {
    invite_code: string
  }
}
```

```typescript
{
  eventName: "Referral_Signup_Completed",
  eventCode: "REFERRAL_SIGNUP_COMPLETED",
  properties: {
    referrer_id: string
  }
}
```

#### ê³„ì‚° ë°©ë²•
```
UNIQUE(Referral_Signup_Completed) / UNIQUE(Signup_Completed) * 100
```

</details>

<details>
<summary><strong>5.2 ì¶”ì²œ ì§€ìˆ˜ (K-Factor)</strong> - Viral Growth Coefficient</summary>

#### ì •ì˜
- **ì¸¡ì • ë°©ë²•**: ì´ˆëŒ€ìë‹¹ í‰ê·  ì‹ ê·œ ìœ ì… Ã— ì „í™˜ìœ¨
- **ëª©í‘œ**: 0.5 ì´ìƒ (ìµœì¢… ëª©í‘œ 1.0)
- **ì—…ê³„ ë²¤ì¹˜ë§ˆí¬**: ì„±ê³µ ì•± 0.7~1.5

#### ê³„ì‚° ë°©ë²•
```
K = (ì´ˆëŒ€ ì „ì†¡ ìˆ˜ / ì´ˆëŒ€ì ìˆ˜) Ã— (ê°€ì… ìˆ˜ / ì´ˆëŒ€ ì „ì†¡ ìˆ˜)
K > 1 â†’ ììƒì  ì„±ì¥
```

#### ê´€ë ¨ ì´ë²¤íŠ¸
```typescript
{
  eventName: "Invite_Link_Clicked",
  eventCode: "INVITE_LINK_CLICKED",
  properties: {
    invite_code: string,
    inviter_id: string,
    device_type: "ios" | "android" | "web"
  }
}
```

```typescript
{
  eventName: "Invite_Conversion_Completed",
  eventCode: "INVITE_CONVERSION_COMPLETED",
  properties: {
    invite_code: string,
    invited_user_id: string,
    signup_method: string
  }
}
```

</details>

---

## ì´ë²¤íŠ¸ êµ¬í˜„ í˜„í™©

### ì „ì²´ í†µê³„

| ì¹´í…Œê³ ë¦¬ | ì´ë²¤íŠ¸ ìˆ˜ | êµ¬í˜„ ìƒíƒœ |
|---------|---------|---------|
| **ì‚¬ìš©ì ì˜¨ë³´ë”©** | 7 | âœ… ì™„ë£Œ |
| **ë§¤ì¹­ íš¨ìœ¨ì„±** | 7 | âœ… ì™„ë£Œ |
| **ì»¤ë®¤ë‹ˆí‹° ì°¸ì—¬ë„** | 8 | âœ… ì™„ë£Œ |
| **ê²°ì œ ì „í™˜ìœ¨** | 11 | âœ… ì™„ë£Œ |
| **ì¸ì¦ ê´€ë ¨** | 4 | âœ… ì™„ë£Œ |
| **íšŒì› ê´€ë¦¬** | 4 | âœ… ì‹ ê·œ ì¶”ê°€ |
| **ì¢‹ì•„ìš” ê´€ë ¨** | 2 | âœ… ì™„ë£Œ |
| **ì‚¬ìš©ì ì•ˆì „** | 2 | âœ… ì™„ë£Œ |
| **íšŒì›ê°€ì…** | 4 | âœ… ì™„ë£Œ |
| **ë§¤ì¹­** | 7 | âœ… ì™„ë£Œ |
| **ì±„íŒ…** | 5 | âœ… ì™„ë£Œ |
| **ì»¤ë®¤ë‹ˆí‹°** | 5 | âœ… ì™„ë£Œ |
| **ê²°ì œ** | 6 | âœ… ì™„ë£Œ (ì¤‘ë³µ ì œê±°) |
| **ëª¨ë¨¼íŠ¸** | 4 | âœ… ì™„ë£Œ |
| **ì¶”ì²œ** | 5 | âœ… ì™„ë£Œ |
| **ì„¸ì…˜** | 3 | âœ… ì™„ë£Œ |
| **ì•± ì‚¬ìš©** | 3 | âœ… ì™„ë£Œ |
| **ì¸ë©”ì´íŠ¸(AI)** | 9 | âœ… ì™„ë£Œ |
| **ì´ê³„** | **96ê°œ** | **100% ì™„ë£Œ** |

---

## User Properties ìë™ ì—…ë°ì´íŠ¸

### ê°œìš”

User PropertiesëŠ” Mixpanelì—ì„œ ì‚¬ìš©ìë³„ ì†ì„±ì„ ì €ì¥í•˜ì—¬, **ARPU, ARPPU, LTV ë“± í•µì‹¬ ìˆ˜ìµ ì§€í‘œ ê³„ì‚°** ë° **Cohort ë¶„ì„**ì— í™œìš©ë©ë‹ˆë‹¤.

### ìë™ ì—…ë°ì´íŠ¸ë˜ëŠ” ì†ì„±

```typescript
{
  // ê¸°ë³¸ ì •ë³´
  university_name: string,
  university_verified: boolean,
  gender: string,
  age: number,

  // ë§¤ì¹­ ê´€ë ¨ (ìë™ ì—…ë°ì´íŠ¸)
  total_matches: number,              // Matching_Success ì‹œ +1
  successful_matches: number,         // Match_Accepted ì‹œ +1
  mutual_likes_count: number,         // Match_Accepted ì‹œ +1
  last_match_date: string,            // Matching_Success ì‹œ ê°±ì‹ 

  // ê²°ì œ ê´€ë ¨ (ìë™ ì—…ë°ì´íŠ¸)
  has_purchased: boolean,             // Payment_Completed ì‹œ true
  total_spent: number,                // Payment_Completed ì‹œ +totalAmount
  purchase_count: number,             // Payment_Completed ì‹œ +1
  first_purchase_date: string,        // ì²« ê²°ì œ ì‹œ 1íšŒë§Œ ì„¤ì •
  last_purchase_date: string,         // Payment_Completed ì‹œ ê°±ì‹ 

  // ì°¸ì—¬ë„ (ìë™ ì—…ë°ì´íŠ¸)
  profile_completion_rate: number,    // Profile_Completion_Updated ì‹œ ê°±ì‹ 
  last_active_date: string,           // Session_Started ì‹œ ê°±ì‹ 

  // ì„¸ê·¸ë¨¼íŠ¸ (ë°±ì—”ë“œì—ì„œ ê³„ì‚°)
  user_tier: "new" | "active" | "dormant",
  engagement_score: number,           // 0~10
  days_since_signup: number
}
```

### êµ¬í˜„ ìœ„ì¹˜

ëª¨ë“  User Properties ìë™ ì—…ë°ì´íŠ¸ëŠ” `use-kpi-analytics.ts`ì˜ `updateUserProperties()` í—¬í¼ í•¨ìˆ˜ë¥¼ í†µí•´ êµ¬í˜„ë©ë‹ˆë‹¤.

**íŒŒì¼**: `src/shared/hooks/use-kpi-analytics.ts`

**ì£¼ìš” ì—…ë°ì´íŠ¸ ë¡œì§**:

```typescript
// 1. ë§¤ì¹­ ì„±ê³µ ì‹œ (line 291-295)
updateUserProperties({
  $add: { total_matches: 1 },
  last_match_date: new Date().toISOString()
});

// 2. ê²°ì œ ì™„ë£Œ ì‹œ (line 408-419)
updateUserProperties({
  has_purchased: true,
  $add: {
    total_spent: totalAmount,
    purchase_count: 1
  },
  $set_once: {
    first_purchase_date: new Date().toISOString()
  },
  last_purchase_date: new Date().toISOString()
});

// 3. ì„¸ì…˜ ì‹œì‘ ì‹œ (line 493-496)
updateUserProperties({
  last_active_date: new Date().toISOString()
});

// 4. í”„ë¡œí•„ ì™„ì„±ë„ ì—…ë°ì´íŠ¸ ì‹œ (line 612-615)
updateUserProperties({
  profile_completion_rate: completionRate
});

// 5. ìƒí˜¸ ì¢‹ì•„ìš” ì‹œ (line 665-670)
updateUserProperties({
  $add: {
    mutual_likes_count: 1,
    successful_matches: 1
  }
});
```

---

## ê°œì„  ì™„ë£Œ ë‚´ì—­

### âœ… 1. User Properties ìë™ ì—…ë°ì´íŠ¸ ë¡œì§ ì¶”ê°€ (ì™„ë£Œ)

**ë¬¸ì œì **: User Propertiesê°€ ìˆ˜ë™ìœ¼ë¡œë§Œ ì„¤ì • ê°€ëŠ¥í–ˆìŒ

**í•´ê²°**:
- `updateUserProperties()` í—¬í¼ í•¨ìˆ˜ ì¶”ê°€
- 5ê°œ í•µì‹¬ ì´ë²¤íŠ¸ì— ìë™ ì—…ë°ì´íŠ¸ ë¡œì§ ì ìš©
  - `Matching_Success` â†’ total_matches, last_match_date
  - `Payment_Completed` â†’ has_purchased, total_spent, purchase_count, first_purchase_date
  - `Session_Started` â†’ last_active_date
  - `Profile_Completion_Updated` â†’ profile_completion_rate
  - `Match_Accepted` â†’ mutual_likes_count, successful_matches

**ì ìš© íŒŒì¼**: `src/shared/hooks/use-kpi-analytics.ts`

---

### âœ… 2. íšŒì› íƒˆí‡´ ì´ë²¤íŠ¸ ì¶”ê°€ (ì™„ë£Œ)

**ë¬¸ì œì **: ëª…ì‹œì  íšŒì› íƒˆí‡´ ì¶”ì  ë¶€ì¬

**í•´ê²°**:
- 4ê°œ íšŒì› ê´€ë¦¬ ì´ë²¤íŠ¸ ì¶”ê°€
  - `Account_Deletion_Requested` - íƒˆí‡´ ìš”ì²­ ì‹œì‘
  - `Account_Deletion_Cancelled` - íƒˆí‡´ ì·¨ì†Œ
  - `Account_Deleted` - íƒˆí‡´ ì™„ë£Œ (ìƒì„¸ í†µê³„ í¬í•¨)
  - `Account_Reactivated` - ì¬ê°€ì…

**ì ìš© íŒŒì¼**:
- `src/shared/constants/amplitude-kpi-events.ts` (ì´ë²¤íŠ¸ ì •ì˜)
- `src/shared/hooks/use-kpi-analytics.ts` (í›… êµ¬í˜„)

**íƒˆí‡´ í†µê³„ ì¶”ì **:
```typescript
{
  deletion_reason: string,
  days_since_signup: number,
  total_matches_count: number,
  has_purchased: boolean,
  total_spent: number,
  last_active_days_ago: number
}
```

---

### âœ… 3. ê²°ì œ ì´ë²¤íŠ¸ ì¤‘ë³µ ì •ë¦¬ (ì™„ë£Œ)

**ë¬¸ì œì **: `PAYMENT_INITIATED`ì™€ `PAYMENT_STARTED` ì¤‘ë³µ ì •ì˜

**í•´ê²°**:
- `PAYMENT_STARTED` ì œê±°
- `PAYMENT_INITIATED` ë‹¨ì¼í™” (Dashboard ë¬¸ì„œì™€ ì¼ì¹˜)
- conversionEventsì˜ `trackPaymentInitiated` ì‚¬ìš© ê¶Œì¥

**ì ìš© íŒŒì¼**:
- `src/shared/constants/amplitude-kpi-events.ts`
- `src/shared/hooks/use-kpi-analytics.ts`

---

## Dashboard ì„¤ì • ì°¸ê³ 

ëª¨ë“  Dashboard ì„¤ì •ì€ `docs/MIXPANEL_DASHBOARD_SETUP.md` íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

### Tier 1: Executive Dashboard

- DAU (Daily Active Users)
- ë§¤ì¹­ ì„±ì‚¬ìœ¨
- ìƒí˜¸ ì¢‹ì•„ìš”ìœ¨
- ì±„íŒ… ì˜¤í”ˆìœ¨
- ìœ ë£Œ ì „í™˜ìœ¨
- D1/D7/D30 Retention

### Tier 2: Growth Dashboard

- ì „ì²´ ìœ ì € í¼ë„
- ì‹ ê·œ ê°€ì…ì íŠ¸ë Œë“œ
- í”„ë¡œí•„ ì™„ì„±ë„ ë¶„í¬
- ë§¤ì¹­ ëŒ€ê¸° ì‹œê°„
- ëŒ€í•™ìƒ ì¸ì¦ë¥ 

### Tier 3: Product Dashboard

- ê²°ì œ í¼ë„
- ì±„íŒ… ì°¸ì—¬ë„
- ê¸°ëŠ¥ë³„ ì‚¬ìš©ë¥ 
- ì´íƒˆ ë¶„ì„ (Cohorts)

---

## ì°¸ê³  ìë£Œ

### ì½”ë“œ íŒŒì¼

- **ì´ë²¤íŠ¸ ì •ì˜**: `src/shared/constants/amplitude-kpi-events.ts`
- **ì´ë²¤íŠ¸ í›…**: `src/shared/hooks/use-kpi-analytics.ts`
- **Amplitude ê¸°ë³¸ í›…**: `src/shared/hooks/use-amplitude.ts`
- **Mixpanel ì–´ëŒ‘í„°**: `src/shared/libs/mixpanel/`

### ë¬¸ì„œ íŒŒì¼

- **Dashboard ì„¤ì • ê°€ì´ë“œ**: `docs/MIXPANEL_DASHBOARD_SETUP.md`
- **KPI ì •ì˜ (ë³¸ íŒŒì¼)**: `KPI.md`

---

## ì—…ë°ì´íŠ¸ ì´ë ¥

| ë‚ ì§œ | ë‚´ìš© | ì‘ì„±ì |
|------|------|--------|
| 2025-12-12 | ì´ˆê¸° ì‘ì„± ë° ê°œì„ ì‚¬í•­ 3ê±´ ì ìš© ì™„ë£Œ | Claude AI |

---

**ë¬¸ì˜ì‚¬í•­**: ì¶”ê°€ KPI ì •ì˜ ë˜ëŠ” ì´ë²¤íŠ¸ ì¶”ê°€ê°€ í•„ìš”í•œ ê²½ìš°, ë³¸ ë¬¸ì„œë¥¼ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”.
